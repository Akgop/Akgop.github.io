---
title: \[JSP2.3] 5.3 application 기본 객체
categories: 
  - jsp
tags: 
toc: true
---

application 기본 객체는 웹 어플리케이션 전반에 걸쳐서 사용되는 정보를 담고 있다. 초기 설정 정보를 읽어올 수 있으며, 서버 정보를 읽어올 수 있고, 웹 어플리케이션이 제공하는 자원(파일)을 읽어올 수 있다.

### web.xml 파일

---

web.xml파일은 웹 어플리케이션을 위한 설정 정보를 담고 있는 파일이다.

해당 파일의 경로는 [웹 어플리케이션폴더]\WEB-INF 디렉토리에 위치해야 한다. 즉 컨텍스트 경로 하위에 있으면 된다.

서블릿 3.0 버전부터 web.xml 파일 대신 자바 코드를 이용해서 설정할 수 있는 기능이 추가되었다.

### 웹 어플리케이션 초기화 파라미터 읽어오기

---

```markup
<context-param>
  <description>파라미터 설명(필수 X)</description>
  <description>파라미터 이름</description>
  <description>파라미터 값</description>
</context-param>
```

WEB-INF\web.xml파일에 <context-param>태그를 사용하여 추가한다. 

웹 어플리케이션 초기화 파라미터는 말 그대로 웹 어플리케이션을 초기화 하는데 필요한 설정 정보를 지정하기 위해 사용된다. 예를 들어 데이터베이스 연결과 관련된 설정 파일의 경로나, 로깅 설정 파일, 주요 속성 정보를 담고 있는 파일의 경로등을 지정할 때 초기화 파라미터를 사용한다.

### 서버 정보 읽어오기

---

사용중인 웹 컨테이너에 대한 정보를 읽어오는 메서드를 제공한다.

- getServerInfo(): 서버 정보 ex): Apache Tomcat/8.0.21 등
- getMajorVersion(): 서블릿 규약의 메이저 버전의 정수 부분을 리턴 ex): 3.1이라면 3
- getMinorVersion(): 마이너 버전의 소수 부분을 리턴 ex): 3.1이라면 1

### 로그 메세지 기록하기

---

```markup
<% application.log("로그 메세지") %>

<% log("로그 메세지") %>
```

위 코드는 application 기본 객체가 제공하는 log()메서드이고

아래 코드는 JSP 페이지가 제공하는 log() 메서드이다.

두 메서드는 출력결과 양식에 약간의 차이가 있을 수 있다. 웹 컨테이너에 따라 다르다.

### 웹 어플리케이션의 자원 구하기

---

JSP 페이지에서 웹 어플리케이션 폴더에 위치한 파일을 사용해야 할 때가 있다. 하위 폴더에 위치한 파일의 내용을 그대로 응답으로 출력하고자 하는 경우가 있다.

절대경로(Absolute Path)를 사용하여 구하는 방법이 있다. 그러나 권장되지 않는다. 버전이 upgrade되어 경로이름이 바뀌면 모든 파일에서 절대경로를 손수 수정해줘야 하는 번거로움이 발생한다.

따라서 application 기본 객체가 제공하는 자원 접근 메서드를 사용하자

- getRealPath(): 웹 어플리케이션 내에서 지정한 경로에 해당하는 시스템상에서의 경로를 리턴
- getResource(): 웹 어플리케이션 내에서 지정한 경로에 해당하는 자원에 접근할 수 있는 URL객체를 리턴한다.
- getResourceAsStream(): 위 내용을 InputStream으로 리턴한다.